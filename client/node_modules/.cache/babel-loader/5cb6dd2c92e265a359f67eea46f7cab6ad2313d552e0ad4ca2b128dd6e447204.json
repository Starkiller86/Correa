{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karen\\\\OneDrive\\\\Escritorio\\\\Correa3\\\\Correa\\\\client\\\\src\\\\pages\\\\Bartender.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { initBarSocket } from '../services/BarSocket';\nimport jsPDF from 'jspdf';\nimport './bartender.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LEDGER_KEY = 'alcohol_sales_ledger_v1';\n\n// ðŸ“Œ Cargar historial de ventas desde localStorage\nfunction loadLedger() {\n  try {\n    const raw = localStorage.getItem(LEDGER_KEY);\n    if (!raw) {\n      return {\n        processedOrderIds: {},\n        totals: {\n          simples: 0,\n          dobles: 0,\n          triples: 0,\n          botellas: 0,\n          amount: 0\n        }\n      };\n    }\n    const parsed = JSON.parse(raw);\n    return {\n      processedOrderIds: parsed.processedOrderIds || {},\n      totals: parsed.totals || {\n        simples: 0,\n        dobles: 0,\n        triples: 0,\n        botellas: 0,\n        amount: 0\n      }\n    };\n  } catch {\n    return {\n      processedOrderIds: {},\n      totals: {\n        simples: 0,\n        dobles: 0,\n        triples: 0,\n        botellas: 0,\n        amount: 0\n      }\n    };\n  }\n}\nfunction saveLedger(ledger) {\n  localStorage.setItem(LEDGER_KEY, JSON.stringify(ledger));\n}\nconst Bartender = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [ledger, setLedger] = useState(loadLedger());\n  const [showStats, setShowStats] = useState(false);\n\n  // ðŸ“Œ Cargar pedidos guardados\n  useEffect(() => {\n    const saved = localStorage.getItem('alcohol_orders');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        setOrders(parsed);\n        foldOrdersIntoLedger(parsed);\n      } catch {}\n    }\n  }, []);\n\n  // ðŸ“Œ ConexiÃ³n WebSocket con merge anti-duplicados\n  useEffect(() => {\n    const mergeUnique = incoming => {\n      setOrders(prev => {\n        const map = new Map();\n        [...prev, ...incoming].forEach(o => {\n          const prevOrder = map.get(o.id);\n          if (prevOrder) {\n            map.set(o.id, {\n              ...prevOrder,\n              ...o,\n              completed: prevOrder.completed || o.completed\n            });\n          } else {\n            map.set(o.id, {\n              ...o,\n              completed: o.completed || false\n            });\n          }\n        });\n        const unique = Array.from(map.values());\n        localStorage.setItem('alcohol_orders', JSON.stringify(unique));\n        return unique;\n      });\n      foldOrdersIntoLedger(incoming);\n    };\n    initBarSocket(mergeUnique);\n  }, []);\n\n  // ðŸ“Œ Sincronizar si cambia en otra pestaÃ±a\n  useEffect(() => {\n    const onStorage = e => {\n      if (e.key === 'alcohol_orders' && typeof e.newValue === 'string') {\n        try {\n          const parsed = JSON.parse(e.newValue);\n          setOrders(parsed);\n          foldOrdersIntoLedger(parsed);\n        } catch {}\n      }\n    };\n    window.addEventListener('storage', onStorage);\n    return () => window.removeEventListener('storage', onStorage);\n  }, []);\n\n  // ðŸ“Œ Actualizar resumen histÃ³rico de ventas\n  const foldOrdersIntoLedger = ordersArr => {\n    if (!Array.isArray(ordersArr) || ordersArr.length === 0) return;\n    setLedger(prev => {\n      const next = {\n        processedOrderIds: {\n          ...prev.processedOrderIds\n        },\n        totals: {\n          ...prev.totals\n        }\n      };\n      let changed = false;\n      for (const order of ordersArr) {\n        var _ref, _order$items;\n        if (!(order !== null && order !== void 0 && order.id) || next.processedOrderIds[order.id]) continue;\n        const items = (_ref = (_order$items = order.items) !== null && _order$items !== void 0 ? _order$items : order.pedidos) !== null && _ref !== void 0 ? _ref : [];\n        for (const it of items) {\n          const size = (it.size || 'simple').toLowerCase();\n          const category = (it.category || '').toLowerCase();\n          const price = Number(it.price) || 0;\n          if (category === 'botellas') {\n            next.totals.botellas += Number(it.quantity) || 1;\n          } else if (size === 'doble') {\n            next.totals.dobles += 1;\n          } else if (size === 'triple') {\n            next.totals.triples += 1;\n          } else {\n            next.totals.simples += 1;\n          }\n          next.totals.amount += price;\n          changed = true;\n        }\n        next.processedOrderIds[order.id] = true;\n      }\n      if (changed) saveLedger(next);\n      return changed ? next : prev;\n    });\n  };\n\n  // ðŸ“Œ EstadÃ­sticas en vivo\n  const statsLive = useMemo(() => {\n    let total = 0,\n      simples = 0,\n      dobles = 0,\n      triples = 0,\n      botellas = 0;\n    for (const order of orders) {\n      var _ref2, _order$items2;\n      const items = (_ref2 = (_order$items2 = order.items) !== null && _order$items2 !== void 0 ? _order$items2 : order.pedidos) !== null && _ref2 !== void 0 ? _ref2 : [];\n      for (const it of items) {\n        const size = (it.size || 'simple').toLowerCase();\n        const category = (it.category || '').toLowerCase();\n        const price = Number(it.price) || 0;\n        if (category === 'botellas') {\n          botellas += Number(it.quantity) || 1;\n        } else if (size === 'doble') {\n          dobles++;\n        } else if (size === 'triple') {\n          triples++;\n        } else {\n          simples++;\n        }\n        total += price;\n      }\n    }\n    return {\n      total,\n      simples,\n      dobles,\n      triples,\n      botellas\n    };\n  }, [orders]);\n  const statsLedger = ledger.totals;\n\n  // ðŸ“Œ Reiniciar historial\n  const resetLedger = () => {\n    const empty = {\n      processedOrderIds: {},\n      totals: {\n        simples: 0,\n        dobles: 0,\n        triples: 0,\n        botellas: 0,\n        amount: 0\n      }\n    };\n    setLedger(empty);\n    saveLedger(empty);\n  };\n\n  // ðŸ“Œ Marcar como completado\n  const markAsCompleted = orderId => {\n    setOrders(prev => {\n      const updated = prev.map(o => o.id === orderId ? {\n        ...o,\n        completed: true\n      } : o);\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\n      return updated;\n    });\n  };\n\n  // ðŸ“Œ Eliminar completados de verdad\n  const clearCompletedOrders = () => {\n    setOrders(prev => {\n      const updated = prev.filter(o => !o.completed);\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\n      return updated;\n    });\n  };\n\n  // ðŸ“Œ Generar PDF\n  const downloadPDF = () => {\n    const doc = new jsPDF();\n    doc.setFontSize(16);\n    doc.text('Historial de Ventas - Bar', 10, 10);\n    doc.setFontSize(12);\n    doc.text(`Simples: ${statsLedger.simples}`, 10, 20);\n    doc.text(`Dobles: ${statsLedger.dobles}`, 10, 30);\n    doc.text(`Triples: ${statsLedger.triples}`, 10, 40);\n    doc.text(`Botellas: ${statsLedger.botellas}`, 10, 50);\n    doc.text(`Total vendido: $${statsLedger.amount.toFixed(2)}`, 10, 60);\n    doc.save('historial_ventas_bar.pdf');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bartender-interface\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Pedidos del Bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pedidos-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columna\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Pedidos Pendientes (\", orders.filter(o => !o.completed).length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), orders.filter(o => !o.completed).map((order, idx) => {\n          var _order$table, _order$time, _order$items3;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pedido-card pendiente\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Mesa \", (_order$table = order.table) !== null && _order$table !== void 0 ? _order$table : order.mesa]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (_order$time = order.time) !== null && _order$time !== void 0 ? _order$time : new Date(order.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-items\",\n              children: (_order$items3 = order.items) === null || _order$items3 === void 0 ? void 0 : _order$items3.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [item.name, \" \", item.size ? `(${item.size})` : '', item.category === 'botellas' ? ` x${item.quantity || 1}` : '']\n              }, `${order.id}-item-${i}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-completar\",\n              onClick: () => markAsCompleted(order.id),\n              children: \"Marcar como Completado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, `${order.id}-pendiente-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columna\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Pedidos Completados (\", orders.filter(o => o.completed).length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this), orders.filter(o => o.completed).map((order, idx) => {\n          var _order$table2, _order$time2, _order$items4;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pedido-card completado\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Mesa \", (_order$table2 = order.table) !== null && _order$table2 !== void 0 ? _order$table2 : order.mesa]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (_order$time2 = order.time) !== null && _order$time2 !== void 0 ? _order$time2 : new Date(order.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-items\",\n              children: (_order$items4 = order.items) === null || _order$items4 === void 0 ? void 0 : _order$items4.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [item.name, \" \", item.size ? `(${item.size})` : '', item.category === 'botellas' ? ` x${item.quantity || 1}` : '']\n              }, `${order.id}-compitem-${i}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)]\n          }, `${order.id}-completado-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this);\n        }), orders.some(o => o.completed) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-eliminar\",\n          onClick: clearCompletedOrders,\n          children: \"\\uD83D\\uDDD1 Eliminar todas las completadas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowStats(s => !s),\n      children: showStats ? 'Ocultar resumen de ventas' : 'Mostrar resumen de ventas'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this), showStats && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Resumen de Ventas (Hist\\xF3rico)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Simples: \", statsLedger.simples]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Dobles: \", statsLedger.dobles]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Triples: \", statsLedger.triples]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Botellas: \", statsLedger.botellas]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Total: $\", statsLedger.amount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginTop: 12\n        },\n        onClick: downloadPDF,\n        children: \"\\uD83D\\uDCC4 Descargar historial en PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: \"Comparar con ventas abiertas (en vivo)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Simples (vivo): \", statsLive.simples]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Dobles (vivo): \", statsLive.dobles]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Triples (vivo): \", statsLive.triples]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Botellas (vivo): \", statsLive.botellas]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Total (vivo): $\", statsLive.total.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"remove-button\",\n        style: {\n          marginTop: 12\n        },\n        onClick: resetLedger,\n        children: \"Reiniciar resumen hist\\xF3rico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n};\n_s(Bartender, \"Sn1OyphKlUMDjppEPlNeoqH3OJw=\");\n_c = Bartender;\nexport default Bartender;\nvar _c;\n$RefreshReg$(_c, \"Bartender\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","initBarSocket","jsPDF","jsxDEV","_jsxDEV","LEDGER_KEY","loadLedger","raw","localStorage","getItem","processedOrderIds","totals","simples","dobles","triples","botellas","amount","parsed","JSON","parse","saveLedger","ledger","setItem","stringify","Bartender","_s","orders","setOrders","setLedger","showStats","setShowStats","saved","foldOrdersIntoLedger","mergeUnique","incoming","prev","map","Map","forEach","o","prevOrder","get","id","set","completed","unique","Array","from","values","onStorage","e","key","newValue","window","addEventListener","removeEventListener","ordersArr","isArray","length","next","changed","order","_ref","_order$items","items","pedidos","it","size","toLowerCase","category","price","Number","quantity","statsLive","total","_ref2","_order$items2","statsLedger","resetLedger","empty","markAsCompleted","orderId","updated","clearCompletedOrders","filter","downloadPDF","doc","setFontSize","text","toFixed","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","idx","_order$table","_order$time","_order$items3","table","mesa","time","Date","timestamp","toLocaleTimeString","item","i","name","onClick","_order$table2","_order$time2","_order$items4","some","s","style","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/karen/OneDrive/Escritorio/Correa3/Correa/client/src/pages/Bartender.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { initBarSocket } from '../services/BarSocket';\r\nimport jsPDF from 'jspdf';\r\nimport './bartender.css';\r\n\r\nconst LEDGER_KEY = 'alcohol_sales_ledger_v1';\r\n\r\n// ðŸ“Œ Cargar historial de ventas desde localStorage\r\nfunction loadLedger() {\r\n  try {\r\n    const raw = localStorage.getItem(LEDGER_KEY);\r\n    if (!raw) {\r\n      return { processedOrderIds: {}, totals: { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 } };\r\n    }\r\n    const parsed = JSON.parse(raw);\r\n    return {\r\n      processedOrderIds: parsed.processedOrderIds || {},\r\n      totals: parsed.totals || { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 },\r\n    };\r\n  } catch {\r\n    return { processedOrderIds: {}, totals: { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 } };\r\n  }\r\n}\r\n\r\nfunction saveLedger(ledger) {\r\n  localStorage.setItem(LEDGER_KEY, JSON.stringify(ledger));\r\n}\r\n\r\nconst Bartender = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [ledger, setLedger] = useState(loadLedger());\r\n  const [showStats, setShowStats] = useState(false);\r\n\r\n  // ðŸ“Œ Cargar pedidos guardados\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('alcohol_orders');\r\n    if (saved) {\r\n      try {\r\n        const parsed = JSON.parse(saved);\r\n        setOrders(parsed);\r\n        foldOrdersIntoLedger(parsed);\r\n      } catch {}\r\n    }\r\n  }, []);\r\n\r\n  // ðŸ“Œ ConexiÃ³n WebSocket con merge anti-duplicados\r\n  useEffect(() => {\r\n    const mergeUnique = (incoming) => {\r\n      setOrders((prev) => {\r\n        const map = new Map();\r\n        [...prev, ...incoming].forEach(o => {\r\n          const prevOrder = map.get(o.id);\r\n          if (prevOrder) {\r\n            map.set(o.id, { ...prevOrder, ...o, completed: prevOrder.completed || o.completed });\r\n          } else {\r\n            map.set(o.id, { ...o, completed: o.completed || false });\r\n          }\r\n        });\r\n        const unique = Array.from(map.values());\r\n        localStorage.setItem('alcohol_orders', JSON.stringify(unique));\r\n        return unique;\r\n      });\r\n      foldOrdersIntoLedger(incoming);\r\n    };\r\n    initBarSocket(mergeUnique);\r\n  }, []);\r\n\r\n  // ðŸ“Œ Sincronizar si cambia en otra pestaÃ±a\r\n  useEffect(() => {\r\n    const onStorage = (e) => {\r\n      if (e.key === 'alcohol_orders' && typeof e.newValue === 'string') {\r\n        try {\r\n          const parsed = JSON.parse(e.newValue);\r\n          setOrders(parsed);\r\n          foldOrdersIntoLedger(parsed);\r\n        } catch {}\r\n      }\r\n    };\r\n    window.addEventListener('storage', onStorage);\r\n    return () => window.removeEventListener('storage', onStorage);\r\n  }, []);\r\n\r\n  // ðŸ“Œ Actualizar resumen histÃ³rico de ventas\r\n  const foldOrdersIntoLedger = (ordersArr) => {\r\n    if (!Array.isArray(ordersArr) || ordersArr.length === 0) return;\r\n    setLedger((prev) => {\r\n      const next = {\r\n        processedOrderIds: { ...prev.processedOrderIds },\r\n        totals: { ...prev.totals },\r\n      };\r\n      let changed = false;\r\n      for (const order of ordersArr) {\r\n        if (!order?.id || next.processedOrderIds[order.id]) continue;\r\n        const items = order.items ?? order.pedidos ?? [];\r\n        for (const it of items) {\r\n          const size = (it.size || 'simple').toLowerCase();\r\n          const category = (it.category || '').toLowerCase();\r\n          const price = Number(it.price) || 0;\r\n          if (category === 'botellas') {\r\n            next.totals.botellas += Number(it.quantity) || 1;\r\n          } else if (size === 'doble') {\r\n            next.totals.dobles += 1;\r\n          } else if (size === 'triple') {\r\n            next.totals.triples += 1;\r\n          } else {\r\n            next.totals.simples += 1;\r\n          }\r\n          next.totals.amount += price;\r\n          changed = true;\r\n        }\r\n        next.processedOrderIds[order.id] = true;\r\n      }\r\n      if (changed) saveLedger(next);\r\n      return changed ? next : prev;\r\n    });\r\n  };\r\n\r\n  // ðŸ“Œ EstadÃ­sticas en vivo\r\n  const statsLive = useMemo(() => {\r\n    let total = 0, simples = 0, dobles = 0, triples = 0, botellas = 0;\r\n    for (const order of orders) {\r\n      const items = order.items ?? order.pedidos ?? [];\r\n      for (const it of items) {\r\n        const size = (it.size || 'simple').toLowerCase();\r\n        const category = (it.category || '').toLowerCase();\r\n        const price = Number(it.price) || 0;\r\n        if (category === 'botellas') {\r\n          botellas += Number(it.quantity) || 1;\r\n        } else if (size === 'doble') {\r\n          dobles++;\r\n        } else if (size === 'triple') {\r\n          triples++;\r\n        } else {\r\n          simples++;\r\n        }\r\n        total += price;\r\n      }\r\n    }\r\n    return { total, simples, dobles, triples, botellas };\r\n  }, [orders]);\r\n\r\n  const statsLedger = ledger.totals;\r\n\r\n  // ðŸ“Œ Reiniciar historial\r\n  const resetLedger = () => {\r\n    const empty = { processedOrderIds: {}, totals: { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 } };\r\n    setLedger(empty);\r\n    saveLedger(empty);\r\n  };\r\n\r\n  // ðŸ“Œ Marcar como completado\r\n  const markAsCompleted = (orderId) => {\r\n    setOrders(prev => {\r\n      const updated = prev.map(o => o.id === orderId ? { ...o, completed: true } : o);\r\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // ðŸ“Œ Eliminar completados de verdad\r\n  const clearCompletedOrders = () => {\r\n    setOrders(prev => {\r\n      const updated = prev.filter(o => !o.completed);\r\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // ðŸ“Œ Generar PDF\r\n  const downloadPDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.setFontSize(16);\r\n    doc.text('Historial de Ventas - Bar', 10, 10);\r\n    doc.setFontSize(12);\r\n    doc.text(`Simples: ${statsLedger.simples}`, 10, 20);\r\n    doc.text(`Dobles: ${statsLedger.dobles}`, 10, 30);\r\n    doc.text(`Triples: ${statsLedger.triples}`, 10, 40);\r\n    doc.text(`Botellas: ${statsLedger.botellas}`, 10, 50);\r\n    doc.text(`Total vendido: $${statsLedger.amount.toFixed(2)}`, 10, 60);\r\n    doc.save('historial_ventas_bar.pdf');\r\n  };\r\n\r\n  return (\r\n    <div className=\"bartender-interface\">\r\n      <h1>Pedidos del Bar</h1>\r\n\r\n      <div className=\"pedidos-grid\">\r\n        {/* Pendientes */}\r\n        <div className=\"columna\">\r\n          <h2>Pedidos Pendientes ({orders.filter(o => !o.completed).length})</h2>\r\n          {orders.filter(o => !o.completed).map((order, idx) => (\r\n            <div key={`${order.id}-pendiente-${idx}`} className=\"pedido-card pendiente\">\r\n              <div className=\"pedido-header\">\r\n                <strong>Mesa {order.table ?? order.mesa}</strong>\r\n                <span>{order.time ?? new Date(order.timestamp).toLocaleTimeString()}</span>\r\n              </div>\r\n              <div className=\"pedido-items\">\r\n                {order.items?.map((item, i) => (\r\n                  <div key={`${order.id}-item-${i}`}>\r\n                    {item.name} {item.size ? `(${item.size})` : ''}\r\n                    {item.category === 'botellas' ? ` x${item.quantity || 1}` : ''}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <button className=\"btn-completar\" onClick={() => markAsCompleted(order.id)}>\r\n                Marcar como Completado\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Completados */}\r\n        <div className=\"columna\">\r\n          <h2>Pedidos Completados ({orders.filter(o => o.completed).length})</h2>\r\n          {orders.filter(o => o.completed).map((order, idx) => (\r\n            <div key={`${order.id}-completado-${idx}`} className=\"pedido-card completado\">\r\n              <div className=\"pedido-header\">\r\n                <strong>Mesa {order.table ?? order.mesa}</strong>\r\n                <span>{order.time ?? new Date(order.timestamp).toLocaleTimeString()}</span>\r\n              </div>\r\n              <div className=\"pedido-items\">\r\n                {order.items?.map((item, i) => (\r\n                  <div key={`${order.id}-compitem-${i}`}>\r\n                    {item.name} {item.size ? `(${item.size})` : ''}\r\n                    {item.category === 'botellas' ? ` x${item.quantity || 1}` : ''}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {orders.some(o => o.completed) && (\r\n            <button className=\"btn-eliminar\" onClick={clearCompletedOrders}>\r\n              ðŸ—‘ Eliminar todas las completadas\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <button onClick={() => setShowStats(s => !s)}>\r\n        {showStats ? 'Ocultar resumen de ventas' : 'Mostrar resumen de ventas'}\r\n      </button>\r\n\r\n      {showStats && (\r\n        <div className=\"stats\">\r\n          <h3>Resumen de Ventas (HistÃ³rico)</h3>\r\n          <p>Simples: {statsLedger.simples}</p>\r\n          <p>Dobles: {statsLedger.dobles}</p>\r\n          <p>Triples: {statsLedger.triples}</p>\r\n          <p>Botellas: {statsLedger.botellas}</p>\r\n          <p><strong>Total: ${statsLedger.amount.toFixed(2)}</strong></p>\r\n          <button style={{ marginTop: 12 }} onClick={downloadPDF}>ðŸ“„ Descargar historial en PDF</button>\r\n          <details style={{ marginTop: 12 }}>\r\n            <summary>Comparar con ventas abiertas (en vivo)</summary>\r\n            <p>Simples (vivo): {statsLive.simples}</p>\r\n            <p>Dobles (vivo): {statsLive.dobles}</p>\r\n            <p>Triples (vivo): {statsLive.triples}</p>\r\n            <p>Botellas (vivo): {statsLive.botellas}</p>\r\n            <p><strong>Total (vivo): ${statsLive.total.toFixed(2)}</strong></p>\r\n          </details>\r\n          <button className=\"remove-button\" style={{ marginTop: 12 }} onClick={resetLedger}>\r\n            Reiniciar resumen histÃ³rico\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bartender;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}