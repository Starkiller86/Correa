{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karen\\\\OneDrive\\\\Escritorio\\\\Correa3\\\\Correa\\\\client\\\\src\\\\pages\\\\Bartender.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { initBarSocket } from '../services/BarSocket';\nimport jsPDF from 'jspdf';\nimport './bartender.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LEDGER_KEY = 'alcohol_sales_ledger_v1';\nfunction loadLedger() {\n  try {\n    const raw = localStorage.getItem(LEDGER_KEY);\n    if (!raw) {\n      return {\n        processedOrderIds: {},\n        totals: {\n          simples: 0,\n          dobles: 0,\n          triples: 0,\n          botellas: 0,\n          amount: 0\n        }\n      };\n    }\n    const parsed = JSON.parse(raw);\n    return {\n      processedOrderIds: parsed.processedOrderIds || {},\n      totals: parsed.totals || {\n        simples: 0,\n        dobles: 0,\n        triples: 0,\n        botellas: 0,\n        amount: 0\n      }\n    };\n  } catch {\n    return {\n      processedOrderIds: {},\n      totals: {\n        simples: 0,\n        dobles: 0,\n        triples: 0,\n        botellas: 0,\n        amount: 0\n      }\n    };\n  }\n}\nfunction saveLedger(ledger) {\n  localStorage.setItem(LEDGER_KEY, JSON.stringify(ledger));\n}\nconst Bartender = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [ledger, setLedger] = useState(loadLedger());\n  const [showStats, setShowStats] = useState(false);\n\n  // Cargar SOLO pedidos del bar\n  useEffect(() => {\n    const saved = localStorage.getItem('alcohol_orders');\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved).filter(o => ((o === null || o === void 0 ? void 0 : o.source) || 'bar') === 'bar');\n        setOrders(parsed);\n        foldOrdersIntoLedger(parsed);\n      } catch {}\n    }\n  }, []);\n\n  // WS del bar con merge anti-duplicados\n  useEffect(() => {\n    const mergeUnique = incoming => {\n      const onlyBar = (incoming || []).filter(o => ((o === null || o === void 0 ? void 0 : o.source) || 'bar') === 'bar');\n      if (!onlyBar.length) return;\n      setOrders(prev => {\n        const map = new Map();\n        [...prev, ...onlyBar].forEach(o => {\n          const prevOrder = map.get(o.id);\n          if (prevOrder) {\n            map.set(o.id, {\n              ...prevOrder,\n              ...o,\n              completed: prevOrder.completed || o.completed\n            });\n          } else {\n            map.set(o.id, {\n              ...o,\n              completed: o.completed || false\n            });\n          }\n        });\n        const unique = Array.from(map.values());\n        localStorage.setItem('alcohol_orders', JSON.stringify(unique));\n        return unique;\n      });\n      foldOrdersIntoLedger(onlyBar);\n    };\n    initBarSocket(mergeUnique);\n  }, []);\n\n  // Sync entre pesta침as\n  useEffect(() => {\n    const onStorage = e => {\n      if (e.key === 'alcohol_orders' && typeof e.newValue === 'string') {\n        try {\n          const parsed = JSON.parse(e.newValue).filter(o => ((o === null || o === void 0 ? void 0 : o.source) || 'bar') === 'bar');\n          setOrders(parsed);\n          foldOrdersIntoLedger(parsed);\n        } catch {}\n      }\n    };\n    window.addEventListener('storage', onStorage);\n    return () => window.removeEventListener('storage', onStorage);\n  }, []);\n\n  // Ledger\n  const foldOrdersIntoLedger = ordersArr => {\n    if (!Array.isArray(ordersArr) || ordersArr.length === 0) return;\n    setLedger(prev => {\n      const next = {\n        processedOrderIds: {\n          ...prev.processedOrderIds\n        },\n        totals: {\n          ...prev.totals\n        }\n      };\n      let changed = false;\n      for (const order of ordersArr) {\n        var _ref, _order$items;\n        if (!(order !== null && order !== void 0 && order.id) || ((order === null || order === void 0 ? void 0 : order.source) || 'bar') !== 'bar' || next.processedOrderIds[order.id]) continue;\n        const items = (_ref = (_order$items = order.items) !== null && _order$items !== void 0 ? _order$items : order.pedidos) !== null && _ref !== void 0 ? _ref : [];\n        for (const it of items) {\n          const size = (it.size || 'simple').toLowerCase();\n          const category = (it.category || '').toLowerCase();\n          const price = Number(it.price) || 0;\n          if (category === 'botellas') next.totals.botellas += Number(it.quantity) || 1;else if (size === 'doble') next.totals.dobles += 1;else if (size === 'triple') next.totals.triples += 1;else next.totals.simples += 1;\n          next.totals.amount += price;\n          changed = true;\n        }\n        next.processedOrderIds[order.id] = true;\n      }\n      if (changed) saveLedger(next);\n      return changed ? next : prev;\n    });\n  };\n\n  // Stats en vivo\n  const statsLive = useMemo(() => {\n    let total = 0,\n      simples = 0,\n      dobles = 0,\n      triples = 0,\n      botellas = 0;\n    for (const order of orders) {\n      var _ref2, _order$items2;\n      const items = (_ref2 = (_order$items2 = order.items) !== null && _order$items2 !== void 0 ? _order$items2 : order.pedidos) !== null && _ref2 !== void 0 ? _ref2 : [];\n      for (const it of items) {\n        const size = (it.size || 'simple').toLowerCase();\n        const category = (it.category || '').toLowerCase();\n        const price = Number(it.price) || 0;\n        if (category === 'botellas') botellas += Number(it.quantity) || 1;else if (size === 'doble') dobles++;else if (size === 'triple') triples++;else simples++;\n        total += price;\n      }\n    }\n    return {\n      total,\n      simples,\n      dobles,\n      triples,\n      botellas\n    };\n  }, [orders]);\n  const statsLedger = ledger.totals;\n  const resetLedger = () => {\n    const empty = {\n      processedOrderIds: {},\n      totals: {\n        simples: 0,\n        dobles: 0,\n        triples: 0,\n        botellas: 0,\n        amount: 0\n      }\n    };\n    setLedger(empty);\n    saveLedger(empty);\n  };\n  const markAsCompleted = orderId => {\n    setOrders(prev => {\n      const updated = prev.map(o => o.id === orderId ? {\n        ...o,\n        completed: true\n      } : o);\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\n      return updated;\n    });\n  };\n  const clearCompletedOrders = () => {\n    setOrders(prev => {\n      const updated = prev.filter(o => !o.completed);\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\n      return updated;\n    });\n  };\n  const downloadPDF = () => {\n    const doc = new jsPDF();\n    doc.setFontSize(16);\n    doc.text('Historial de Ventas - Bar', 10, 10);\n    doc.setFontSize(12);\n    doc.text(`Simples: ${statsLedger.simples}`, 10, 20);\n    doc.text(`Dobles: ${statsLedger.dobles}`, 10, 30);\n    doc.text(`Triples: ${statsLedger.triples}`, 10, 40);\n    doc.text(`Botellas: ${statsLedger.botellas}`, 10, 50);\n    doc.text(`Total vendido: $${statsLedger.amount.toFixed(2)}`, 10, 60);\n    doc.save('historial_ventas_bar.pdf');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bartender-interface\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Pedidos del Bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pedidos-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columna\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Pedidos Pendientes (\", orders.filter(o => !o.completed).length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this), orders.filter(o => !o.completed).map((order, idx) => {\n          var _order$table, _order$time, _order$items3;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pedido-card pendiente\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Mesa \", (_order$table = order.table) !== null && _order$table !== void 0 ? _order$table : order.mesa]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (_order$time = order.time) !== null && _order$time !== void 0 ? _order$time : new Date(order.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-items\",\n              children: (_order$items3 = order.items) === null || _order$items3 === void 0 ? void 0 : _order$items3.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [item.name, \" \", item.size ? `(${item.size})` : '', item.category === 'botellas' ? ` x${item.quantity || 1}` : '']\n              }, `${order.id}-item-${i}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-completar\",\n              onClick: () => markAsCompleted(order.id),\n              children: \"Marcar como Completado\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)]\n          }, `${order.id}-pend-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"columna\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Pedidos Completados (\", orders.filter(o => o.completed).length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), orders.filter(o => o.completed).map((order, idx) => {\n          var _order$table2, _order$time2, _order$items4;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"pedido-card completado\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: [\"Mesa \", (_order$table2 = order.table) !== null && _order$table2 !== void 0 ? _order$table2 : order.mesa]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: (_order$time2 = order.time) !== null && _order$time2 !== void 0 ? _order$time2 : new Date(order.timestamp).toLocaleTimeString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pedido-items\",\n              children: (_order$items4 = order.items) === null || _order$items4 === void 0 ? void 0 : _order$items4.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [item.name, \" \", item.size ? `(${item.size})` : '', item.category === 'botellas' ? ` x${item.quantity || 1}` : '']\n              }, `${order.id}-compitem-${i}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 15\n            }, this)]\n          }, `${order.id}-comp-${idx}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this);\n        }), orders.some(o => o.completed) && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-eliminar\",\n          onClick: clearCompletedOrders,\n          children: \"\\uD83D\\uDDD1 Eliminar todas las completadas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowStats(s => !s),\n      children: showStats ? 'Ocultar resumen de ventas' : 'Mostrar resumen de ventas'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), showStats && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Resumen de Ventas (Hist\\xF3rico)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Simples: \", statsLedger.simples]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Dobles: \", statsLedger.dobles]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Triples: \", statsLedger.triples]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Botellas: \", statsLedger.botellas]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\"Total: $\", statsLedger.amount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: {\n          marginTop: 12\n        },\n        onClick: downloadPDF,\n        children: \"\\uD83D\\uDCC4 Descargar historial en PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n        style: {\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: \"Comparar con ventas abiertas (en vivo)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Simples (vivo): \", statsLive.simples]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Dobles (vivo): \", statsLive.dobles]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Triples (vivo): \", statsLive.triples]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Botellas (vivo): \", statsLive.botellas]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Total (vivo): $\", statsLive.total.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"remove-button\",\n        style: {\n          marginTop: 12\n        },\n        onClick: resetLedger,\n        children: \"Reiniciar resumen hist\\xF3rico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n};\n_s(Bartender, \"Sn1OyphKlUMDjppEPlNeoqH3OJw=\");\n_c = Bartender;\nexport default Bartender;\nvar _c;\n$RefreshReg$(_c, \"Bartender\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","initBarSocket","jsPDF","jsxDEV","_jsxDEV","LEDGER_KEY","loadLedger","raw","localStorage","getItem","processedOrderIds","totals","simples","dobles","triples","botellas","amount","parsed","JSON","parse","saveLedger","ledger","setItem","stringify","Bartender","_s","orders","setOrders","setLedger","showStats","setShowStats","saved","filter","o","source","foldOrdersIntoLedger","mergeUnique","incoming","onlyBar","length","prev","map","Map","forEach","prevOrder","get","id","set","completed","unique","Array","from","values","onStorage","e","key","newValue","window","addEventListener","removeEventListener","ordersArr","isArray","next","changed","order","_ref","_order$items","items","pedidos","it","size","toLowerCase","category","price","Number","quantity","statsLive","total","_ref2","_order$items2","statsLedger","resetLedger","empty","markAsCompleted","orderId","updated","clearCompletedOrders","downloadPDF","doc","setFontSize","text","toFixed","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","idx","_order$table","_order$time","_order$items3","table","mesa","time","Date","timestamp","toLocaleTimeString","item","i","name","onClick","_order$table2","_order$time2","_order$items4","some","s","style","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/karen/OneDrive/Escritorio/Correa3/Correa/client/src/pages/Bartender.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { initBarSocket } from '../services/BarSocket';\r\nimport jsPDF from 'jspdf';\r\nimport './bartender.css';\r\n\r\nconst LEDGER_KEY = 'alcohol_sales_ledger_v1';\r\n\r\nfunction loadLedger() {\r\n  try {\r\n    const raw = localStorage.getItem(LEDGER_KEY);\r\n    if (!raw) {\r\n      return { processedOrderIds: {}, totals: { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 } };\r\n    }\r\n    const parsed = JSON.parse(raw);\r\n    return {\r\n      processedOrderIds: parsed.processedOrderIds || {},\r\n      totals: parsed.totals || { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 },\r\n    };\r\n  } catch {\r\n    return { processedOrderIds: {}, totals: { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 } };\r\n  }\r\n}\r\n\r\nfunction saveLedger(ledger) {\r\n  localStorage.setItem(LEDGER_KEY, JSON.stringify(ledger));\r\n}\r\n\r\nconst Bartender = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [ledger, setLedger] = useState(loadLedger());\r\n  const [showStats, setShowStats] = useState(false);\r\n\r\n  // Cargar SOLO pedidos del bar\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem('alcohol_orders');\r\n    if (saved) {\r\n      try {\r\n        const parsed = JSON.parse(saved).filter(o => (o?.source || 'bar') === 'bar');\r\n        setOrders(parsed);\r\n        foldOrdersIntoLedger(parsed);\r\n      } catch {}\r\n    }\r\n  }, []);\r\n\r\n  // WS del bar con merge anti-duplicados\r\n  useEffect(() => {\r\n    const mergeUnique = (incoming) => {\r\n      const onlyBar = (incoming || []).filter(o => (o?.source || 'bar') === 'bar');\r\n      if (!onlyBar.length) return;\r\n\r\n      setOrders((prev) => {\r\n        const map = new Map();\r\n        [...prev, ...onlyBar].forEach(o => {\r\n          const prevOrder = map.get(o.id);\r\n          if (prevOrder) {\r\n            map.set(o.id, { ...prevOrder, ...o, completed: prevOrder.completed || o.completed });\r\n          } else {\r\n            map.set(o.id, { ...o, completed: o.completed || false });\r\n          }\r\n        });\r\n        const unique = Array.from(map.values());\r\n        localStorage.setItem('alcohol_orders', JSON.stringify(unique));\r\n        return unique;\r\n      });\r\n      foldOrdersIntoLedger(onlyBar);\r\n    };\r\n    initBarSocket(mergeUnique);\r\n  }, []);\r\n\r\n  // Sync entre pesta침as\r\n  useEffect(() => {\r\n    const onStorage = (e) => {\r\n      if (e.key === 'alcohol_orders' && typeof e.newValue === 'string') {\r\n        try {\r\n          const parsed = JSON.parse(e.newValue).filter(o => (o?.source || 'bar') === 'bar');\r\n          setOrders(parsed);\r\n          foldOrdersIntoLedger(parsed);\r\n        } catch {}\r\n      }\r\n    };\r\n    window.addEventListener('storage', onStorage);\r\n    return () => window.removeEventListener('storage', onStorage);\r\n  }, []);\r\n\r\n  // Ledger\r\n  const foldOrdersIntoLedger = (ordersArr) => {\r\n    if (!Array.isArray(ordersArr) || ordersArr.length === 0) return;\r\n    setLedger((prev) => {\r\n      const next = {\r\n        processedOrderIds: { ...prev.processedOrderIds },\r\n        totals: { ...prev.totals },\r\n      };\r\n      let changed = false;\r\n      for (const order of ordersArr) {\r\n        if (!order?.id || (order?.source || 'bar') !== 'bar' || next.processedOrderIds[order.id]) continue;\r\n        const items = order.items ?? order.pedidos ?? [];\r\n        for (const it of items) {\r\n          const size = (it.size || 'simple').toLowerCase();\r\n          const category = (it.category || '').toLowerCase();\r\n          const price = Number(it.price) || 0;\r\n          if (category === 'botellas') next.totals.botellas += Number(it.quantity) || 1;\r\n          else if (size === 'doble')   next.totals.dobles += 1;\r\n          else if (size === 'triple')  next.totals.triples += 1;\r\n          else                         next.totals.simples += 1;\r\n          next.totals.amount += price;\r\n          changed = true;\r\n        }\r\n        next.processedOrderIds[order.id] = true;\r\n      }\r\n      if (changed) saveLedger(next);\r\n      return changed ? next : prev;\r\n    });\r\n  };\r\n\r\n  // Stats en vivo\r\n  const statsLive = useMemo(() => {\r\n    let total = 0, simples = 0, dobles = 0, triples = 0, botellas = 0;\r\n    for (const order of orders) {\r\n      const items = order.items ?? order.pedidos ?? [];\r\n      for (const it of items) {\r\n        const size = (it.size || 'simple').toLowerCase();\r\n        const category = (it.category || '').toLowerCase();\r\n        const price = Number(it.price) || 0;\r\n        if (category === 'botellas') botellas += Number(it.quantity) || 1;\r\n        else if (size === 'doble')   dobles++;\r\n        else if (size === 'triple')  triples++;\r\n        else                         simples++;\r\n        total += price;\r\n      }\r\n    }\r\n    return { total, simples, dobles, triples, botellas };\r\n  }, [orders]);\r\n\r\n  const statsLedger = ledger.totals;\r\n\r\n  const resetLedger = () => {\r\n    const empty = { processedOrderIds: {}, totals: { simples: 0, dobles: 0, triples: 0, botellas: 0, amount: 0 } };\r\n    setLedger(empty);\r\n    saveLedger(empty);\r\n  };\r\n\r\n  const markAsCompleted = (orderId) => {\r\n    setOrders(prev => {\r\n      const updated = prev.map(o => o.id === orderId ? { ...o, completed: true } : o);\r\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const clearCompletedOrders = () => {\r\n    setOrders(prev => {\r\n      const updated = prev.filter(o => !o.completed);\r\n      localStorage.setItem('alcohol_orders', JSON.stringify(updated));\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const downloadPDF = () => {\r\n    const doc = new jsPDF();\r\n    doc.setFontSize(16);\r\n    doc.text('Historial de Ventas - Bar', 10, 10);\r\n    doc.setFontSize(12);\r\n    doc.text(`Simples: ${statsLedger.simples}`, 10, 20);\r\n    doc.text(`Dobles: ${statsLedger.dobles}`, 10, 30);\r\n    doc.text(`Triples: ${statsLedger.triples}`, 10, 40);\r\n    doc.text(`Botellas: ${statsLedger.botellas}`, 10, 50);\r\n    doc.text(`Total vendido: $${statsLedger.amount.toFixed(2)}`, 10, 60);\r\n    doc.save('historial_ventas_bar.pdf');\r\n  };\r\n\r\n  return (\r\n    <div className=\"bartender-interface\">\r\n      <h1>Pedidos del Bar</h1>\r\n\r\n      <div className=\"pedidos-grid\">\r\n        {/* Pendientes */}\r\n        <div className=\"columna\">\r\n          <h2>Pedidos Pendientes ({orders.filter(o => !o.completed).length})</h2>\r\n          {orders.filter(o => !o.completed).map((order, idx) => (\r\n            <div key={`${order.id}-pend-${idx}`} className=\"pedido-card pendiente\">\r\n              <div className=\"pedido-header\">\r\n                <strong>Mesa {order.table ?? order.mesa}</strong>\r\n                <span>{order.time ?? new Date(order.timestamp).toLocaleTimeString()}</span>\r\n              </div>\r\n              <div className=\"pedido-items\">\r\n                {order.items?.map((item, i) => (\r\n                  <div key={`${order.id}-item-${i}`}>\r\n                    {item.name} {item.size ? `(${item.size})` : ''}\r\n                    {item.category === 'botellas' ? ` x${item.quantity || 1}` : ''}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <button className=\"btn-completar\" onClick={() => markAsCompleted(order.id)}>\r\n                Marcar como Completado\r\n              </button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Completados */}\r\n        <div className=\"columna\">\r\n          <h2>Pedidos Completados ({orders.filter(o => o.completed).length})</h2>\r\n          {orders.filter(o => o.completed).map((order, idx) => (\r\n            <div key={`${order.id}-comp-${idx}`} className=\"pedido-card completado\">\r\n              <div className=\"pedido-header\">\r\n                <strong>Mesa {order.table ?? order.mesa}</strong>\r\n                <span>{order.time ?? new Date(order.timestamp).toLocaleTimeString()}</span>\r\n              </div>\r\n              <div className=\"pedido-items\">\r\n                {order.items?.map((item, i) => (\r\n                  <div key={`${order.id}-compitem-${i}`}>\r\n                    {item.name} {item.size ? `(${item.size})` : ''}\r\n                    {item.category === 'botellas' ? ` x${item.quantity || 1}` : ''}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {orders.some(o => o.completed) && (\r\n            <button className=\"btn-eliminar\" onClick={clearCompletedOrders}>\r\n              游딈 Eliminar todas las completadas\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <button onClick={() => setShowStats(s => !s)}>\r\n        {showStats ? 'Ocultar resumen de ventas' : 'Mostrar resumen de ventas'}\r\n      </button>\r\n\r\n      {showStats && (\r\n        <div className=\"stats\">\r\n          <h3>Resumen de Ventas (Hist칩rico)</h3>\r\n          <p>Simples: {statsLedger.simples}</p>\r\n          <p>Dobles: {statsLedger.dobles}</p>\r\n          <p>Triples: {statsLedger.triples}</p>\r\n          <p>Botellas: {statsLedger.botellas}</p>\r\n          <p><strong>Total: ${statsLedger.amount.toFixed(2)}</strong></p>\r\n          <button style={{ marginTop: 12 }} onClick={downloadPDF}>游늯 Descargar historial en PDF</button>\r\n          <details style={{ marginTop: 12 }}>\r\n            <summary>Comparar con ventas abiertas (en vivo)</summary>\r\n            <p>Simples (vivo): {statsLive.simples}</p>\r\n            <p>Dobles (vivo): {statsLive.dobles}</p>\r\n            <p>Triples (vivo): {statsLive.triples}</p>\r\n            <p>Botellas (vivo): {statsLive.botellas}</p>\r\n            <p><strong>Total (vivo): ${statsLive.total.toFixed(2)}</strong></p>\r\n          </details>\r\n          <button className=\"remove-button\" style={{ marginTop: 12 }} onClick={resetLedger}>\r\n            Reiniciar resumen hist칩rico\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bartender;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}